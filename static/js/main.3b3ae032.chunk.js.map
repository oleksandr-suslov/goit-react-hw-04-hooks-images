{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Section/Section.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Button/Button.js","components/Searchbar/Searchbar.js","utility/ServiceApi.jsx","components/Modal/Modal.js","components/Section/Section.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/View/View.js","components/App/App.js","index.js"],"names":["module","exports","Button","type","name","clickOnBtn","id","newClassName","className","styles","onClick","shortid","require","Searchbar","onSubmit","useState","find","setFind","SearchForm","e","preventDefault","trim","toast","error","theme","SearchFormButton","generate","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","serviceApi","findImage","page","a","axios","get","response","data","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","key","target","createPortal","Overlay","Section","mainSection","ImageGalleryItem","item","src","webformatURL","alt","tags","ImageGalleryItemImage","evt","largeImageURL","ImageGallery","arr","map","View","hideBtn","images","status","onButtonNextPage","toggleShowModal","color","height","width","App","setImages","setPage","setStatus","showModal","setShowModal","onModalUrl","setOnModalUrl","showBtn","setShowBtn","url","then","findTotalPages","Math","ceil","totalHits","hits","length","position","autoClose","scrollTo","top","documentElement","scrollHeight","behavior","catch","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3b3ae032.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Y5MG\",\"Modal\":\"Modal_Modal__3d9Af\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__11HUj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1rCD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ukBr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSection\":\"Section_mainSection__3dTqy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1tEwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__fCxRN\",\"SearchForm\":\"Searchbar_SearchForm__XQ0qi\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2sY24\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3F4NS\"};","import styles from \"./Button.module.css\";\r\n\r\nexport default function Button({ type, name, clickOnBtn, id, newClassName }) {\r\n  return (\r\n    <button\r\n      className={newClassName || styles.Button}\r\n      type={type}\r\n      onClick={clickOnBtn}\r\n      id={id}\r\n    >\r\n      {name}\r\n    </button>\r\n  );\r\n}\r\n\r\n// window.scrollTo({\r\n//   top: document.documentElement.scrollHeight,\r\n//   behavior: \"smooth\",\r\n// });\r\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Button from \"../Button/Button\";\nimport styles from \"./Searchbar.module.css\";\n\nvar shortid = require(\"shortid\");\n\nexport default function Searchbar({ onSubmit }) {\n  const [find, setFind] = useState(\"\");\n\n  const handleFindImage = (e) => {\n      setFind(e.currentTarget.value.toLowerCase());\n    },\n    onChangeInput = (e) => {\n      e.preventDefault();\n\n      if (find.trim() === \"\") {\n        toast.error(\"Please, enter your request!\", {\n          theme: \"colored\",\n        });\n      }\n      onSubmit(find);\n      setFind(\"\");\n    };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onChangeInput}>\n        <Button\n          type=\"submit\"\n          newClassName={styles.SearchFormButton}\n          id={shortid.generate()}\n        />\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={find}\n          onChange={handleFindImage}\n        />\n      </form>\n    </header>\n  );\n}\n"," import axios from 'axios';\r\n\r\nconst KEY = '22309735-f1ff37d55971be81fb077216b';\r\nconst unit = 12;\r\n const serviceApi = async (findImage, page) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${findImage}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${unit}`,\r\n  );\r\n  return response.data;\r\n};\r\nexport { serviceApi, unit };","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, []);\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Escape\" || e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleKeyDown}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n","import styles from \"./Section.module.css\";\r\n\r\nexport default function Section({ children }) {\r\n  return <section className={styles.mainSection}>{children}</section>;\r\n}\r\n","import styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ item, onClick }) {\n  return (\n    <li className={styles.ImageGalleryItem} id={item.id}>\n      <img\n        src={item.webformatURL}\n        alt={item.tags}\n        className={styles.ImageGalleryItemImage}\n        onClick={(evt) => {\n          evt.preventDefault();\n          onClick(item.largeImageURL);\n        }}\n      />\n    </li>\n  );\n}\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({ arr, onClick, key }) {\n  return (\n    <ul className={styles.ImageGallery} key={key}>\n      {arr.map((item) => (\n        <ImageGalleryItem item={item} onClick={onClick} />\n      ))}\n    </ul>\n  );\n}\n","import Loader from \"react-loader-spinner\";\nimport Section from \"../Section/Section\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\n\nvar shortid = require(\"shortid\");\n\nexport default function View({\n  hideBtn,\n  images,\n  status,\n  onButtonNextPage,\n  toggleShowModal,\n}) {\n  //   const { images, onModalUrl, isLoading, showModal, status } = this.state;\n\n  if (status === \"idle\") {\n    return (\n      <Section>\n        <p>Please input search request</p>\n      </Section>\n    );\n  }\n  if (status === \"pending\") {\n    return (\n      <Section>\n        <ImageGallery\n          arr={images}\n          onClick={toggleShowModal}\n          key={shortid.generate()}\n        />\n        <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={200} width={200} />\n      </Section>\n    );\n  }\n\n  if (status === \"rejected\") {\n    return (\n      <Section>\n        <p>Service not responding, please try again later</p>\n      </Section>\n    );\n  }\n  if (status === \"resolved\") {\n    return (\n      <Section>\n        <ImageGallery\n          arr={images}\n          onClick={toggleShowModal}\n          key={shortid.generate()}\n        />\n\n        {hideBtn && (\n          <Button\n            type=\"button\"\n            name=\"Load more\"\n            id={shortid.generate()}\n            clickOnBtn={onButtonNextPage}\n          />\n        )}\n      </Section>\n    );\n  }\n}\n","import { useState, useEffect, useMemo } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport { serviceApi, unit } from \"../../utility/ServiceApi\";\nimport Modal from \"../Modal/Modal\";\nimport View from \"../View/View\";\nimport styles from \"./App.css\";\n\nexport default function App() {\n  const [find, setFind] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const [onModalUrl, setOnModalUrl] = useState(\"\");\n  const [showBtn, setShowBtn] = useState(true);\n\n  const handleFormSubmit = (data) => {\n    if (data.trim() === \"\") {\n      setFind(\"\");\n      setImages([]);\n      setStatus(\"idle\");\n    } else {\n      setFind(data);\n    }\n  };\n  const toggleShowModal = (url) => {\n    setShowModal(!showModal);\n    setOnModalUrl(url);\n  };\n\n  useEffect(() => {\n    // console.log();\n\n    if (find === \"\") {\n      return;\n    }\n    if (find !== \"\") {\n      setStatus(\"pending\");\n    }\n    serviceApi(find, page)\n      .then((data) => {\n        setShowBtn(true);\n        const findTotalPages = Math.ceil(data.totalHits / unit);\n        if (page === findTotalPages) {\n          setShowBtn(false);\n        }\n        if (data.hits.length === 0) {\n          // console.log(\"no picture\");\n          toast.error(\"No result were found for your search\", {\n            theme: \"colored\",\n            position: \"top-left\",\n            autoClose: 5000,\n          });\n\n          setPage(1);\n          setStatus(\"idle\");\n          return;\n        }\n        if (page === 1) {\n          setImages(data.hits);\n          setStatus(\"resolved\");\n        } else {\n          setImages([...images, ...data.hits]);\n          setStatus(\"resolved\");\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => {\n        toast.error(error, {\n          theme: \"colored\",\n        });\n        setStatus(\"rejected\");\n      });\n  }, [find, page]);\n\n  const onButtonNextPage = () => {\n    setPage((prevState) => prevState + 1);\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <View\n        hideBtn={showBtn}\n        images={images}\n        status={status}\n        onButtonNextPage={onButtonNextPage}\n        toggleShowModal={toggleShowModal}\n      />\n      {showModal && (\n        <Modal onClose={toggleShowModal}>\n          <img src={onModalUrl} alt=\"#\" />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}