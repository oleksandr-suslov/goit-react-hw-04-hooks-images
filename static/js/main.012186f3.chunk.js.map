{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Section/Section.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Button/Button.js","components/Searchbar/Searchbar.js","utility/ServiceApi.jsx","components/Modal/Modal.js","components/Section/Section.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/View/View.js","App.js","index.js"],"names":["module","exports","Button","type","name","clickOnBtn","id","newClassName","className","styles","onClick","shortid","require","Searchbar","onSubmit","useState","find","setFind","SearchForm","e","preventDefault","trim","toast","error","theme","SearchFormButton","generate","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","serviceApi","findImage","page","a","axios","get","response","data","modalRoot","document","querySelector","Modal","onClose","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","key","target","createPortal","Overlay","Section","mainSection","ImageGalleryItem","items","map","item","src","webformatURL","alt","tags","ImageGalleryItemImage","evt","largeImageURL","ImageGallery","arr","View","hideBtn","images","status","onButtonNextPage","toggleShowModal","color","height","width","App","setImages","setPage","setStatus","showModal","setShowModal","onModalUrl","setOnModalUrl","totalPage","setTotalPage","url","then","findPages","Math","ceil","totalHits","hits","length","position","autoClose","scrollTo","top","documentElement","scrollHeight","behavior","catch","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.012186f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1Y5MG\",\"Modal\":\"Modal_Modal__3d9Af\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__11HUj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1rCD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ukBr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainSection\":\"Section_mainSection__3dTqy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1tEwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__fCxRN\",\"SearchForm\":\"Searchbar_SearchForm__XQ0qi\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2sY24\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3F4NS\"};","import styles from \"./Button.module.css\";\r\n\r\nexport default function Button({ type, name, clickOnBtn, id, newClassName }) {\r\n  return (\r\n    <button\r\n      className={newClassName || styles.Button}\r\n      type={type}\r\n      onClick={clickOnBtn}\r\n      id={id}\r\n    >\r\n      {name}\r\n    </button>\r\n  );\r\n}\r\n\r\n// window.scrollTo({\r\n//   top: document.documentElement.scrollHeight,\r\n//   behavior: \"smooth\",\r\n// });\r\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Button from \"../Button/Button\";\nimport styles from \"./Searchbar.module.css\";\n\nvar shortid = require(\"shortid\");\n\nexport default function Searchbar({ onSubmit }) {\n  const [find, setFind] = useState(\"\");\n\n  const handleFindImage = (e) => {\n      setFind(e.currentTarget.value.toLowerCase());\n    },\n    onChangeInput = (e) => {\n      e.preventDefault();\n\n      if (find.trim() === \"\") {\n        toast.error(\"Please, enter your request!\", {\n          theme: \"colored\",\n        });\n      }\n      onSubmit(find);\n      setFind(\"\");\n    };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={onChangeInput}>\n        <Button\n          type=\"submit\"\n          newClassName={styles.SearchFormButton}\n          id={shortid.generate()}\n        />\n\n        <input\n          className={styles.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={find}\n          onChange={handleFindImage}\n        />\n      </form>\n    </header>\n  );\n}\n"," import axios from 'axios';\r\n\r\nconst KEY = '22309735-f1ff37d55971be81fb077216b';\r\nconst unit = 12;\r\n const serviceApi = async (findImage, page) => {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${findImage}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${unit}`,\r\n  );\r\n  return response.data;\r\n};\r\nexport { serviceApi, unit };","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, []);\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Escape\" || e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleKeyDown}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n","import styles from \"./Section.module.css\";\r\n\r\nexport default function Section({ children }) {\r\n  return <section className={styles.mainSection}>{children}</section>;\r\n}\r\n","import styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ items, onClick }) {\n  return items.map((item) => (\n    <li className={styles.ImageGalleryItem} key={item.largeImageURL}>\n      <img\n        id={item.id}\n        src={item.webformatURL}\n        alt={item.tags}\n        className={styles.ImageGalleryItemImage}\n        onClick={(evt) => {\n          evt.preventDefault();\n          onClick(item.largeImageURL);\n        }}\n      />\n    </li>\n  ));\n}\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nexport default function ImageGallery({ arr, onClick }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      <ImageGalleryItem items={arr} onClick={onClick} />\r\n    </ul>\r\n  );\r\n}\r\n","import Loader from \"react-loader-spinner\";\nimport Section from \"../Section/Section\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\n\nvar shortid = require(\"shortid\");\n\nexport default function View({\n  hideBtn,\n  images,\n  status,\n  onButtonNextPage,\n  toggleShowModal,\n}) {\n  //   const { images, onModalUrl, isLoading, showModal, status } = this.state;\n\n  if (status === \"idle\") {\n    return (\n      <Section>\n        <p>Please input search request</p>\n      </Section>\n    );\n  }\n  if (status === \"pending\") {\n    return (\n      <Section>\n        <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={200} width={200} />\n      </Section>\n    );\n  }\n\n  if (status === \"rejected\") {\n    return (\n      <Section>\n        <p>Service not responding, please try again later</p>\n      </Section>\n    );\n  }\n  if (status === \"resolved\") {\n    return (\n      <Section>\n        <ImageGallery arr={images} onClick={toggleShowModal} />\n\n        {hideBtn && (\n          <Button\n            type=\"button\"\n            name=\"Load more\"\n            id={shortid.generate()}\n            clickOnBtn={onButtonNextPage}\n          />\n        )}\n      </Section>\n    );\n  }\n}\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { serviceApi, unit } from \"./utility/ServiceApi\";\nimport Modal from \"./components/Modal/Modal\";\nimport View from \"./components/View/View\";\nimport styles from \"./App.css\";\n\nexport default function App() {\n  const [find, setFind] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const [onModalUrl, setOnModalUrl] = useState(\"\");\n  const [totalPage, setTotalPage] = useState(true);\n\n  const handleFormSubmit = (data) => {\n    setImages([]);\n    setTotalPage(true);\n    setStatus(\"idle\");\n    if (data.trim() === \"\") {\n    } else {\n      setFind(data);\n    }\n  };\n  const toggleShowModal = (url) => {\n    setShowModal(!showModal);\n    setOnModalUrl(url);\n  };\n\n  useEffect(() => {\n    if (find === \"\") {\n      return;\n    }\n    if (find !== \"\") {\n      setStatus(\"pending\");\n    }\n    serviceApi(find, page)\n      .then((data) => {\n        const findPages = Math.ceil(data.totalHits / unit);\n        if (page === findPages) {\n          setTotalPage(false);\n        }\n        if (page === 1) {\n          if (data.hits.length === 0) {\n            toast.error(\"No result were found for your search\", {\n              theme: \"colored\",\n              position: \"top-left\",\n              autoClose: 5000,\n            });\n\n            return setStatus(\"idle\");\n          }\n          setImages(data.hits);\n          setStatus(\"resolved\");\n        } else {\n          setImages([...images, ...data.hits]);\n          setStatus(\"resolved\");\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => {\n        toast.error(error, {\n          theme: \"colored\",\n        });\n        setStatus(\"rejected\");\n      });\n  }, [find, page]);\n\n  const onButtonNextPage = () => {\n    setPage((prevState) => prevState + 1);\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <View\n        hideBtn={totalPage}\n        images={images}\n        status={status}\n        onButtonNextPage={onButtonNextPage}\n        toggleShowModal={toggleShowModal}\n      />\n      {showModal && (\n        <Modal onClose={toggleShowModal}>\n          <img src={onModalUrl} alt=\"#\" />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"modern-normalize/modern-normalize.css\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}